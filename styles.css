/* ============================================================
   LINGUALENS — Styles
   Olive & Black Premium Theme
   ============================================================ */

/* ── Reset & Variables ── */
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
:root{
  --bg:#0a0b08;--bg2:#111210;--surface:rgba(18,20,16,0.85);
  --glass:rgba(85,95,50,0.10);--glass-border:rgba(140,160,80,0.16);--glass-hover:rgba(140,160,80,0.22);
  --text:#e8e8e0;--text-dim:rgba(232,232,224,0.4);--text-mid:rgba(232,232,224,0.7);
  --olive:#8ba339;--olive-dim:#6b7d2e;--olive-bright:#b5d44e;--olive-glow:rgba(139,163,57,0.25);
  --gradient:linear-gradient(135deg,#7a9230,#b5d44e);
  --gradient2:linear-gradient(135deg,#6b7d2e,#8ba339);
  --radius:12px;--radius-sm:8px;
  --blur:blur(18px);
  --transition:all 0.3s cubic-bezier(0.4,0,0.2,1);
  --font:'Inter',system-ui,-apple-system,sans-serif;--mono:'JetBrains Mono',monospace;
}
html,body{width:100%;height:100%;overflow:hidden;font-family:var(--font);background:var(--bg);color:var(--text);-webkit-tap-highlight-color:transparent}
#app{position:relative;width:100%;height:100%;overflow:hidden;display:flex;flex-direction:column}

/* ── Video Layer ── */
#videoWrap{position:relative;flex:1;overflow:hidden;min-height:0;background:#000}
#webcam{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;z-index:1;transform:scaleX(-1)}
#overlay{position:absolute;top:0;left:0;width:100%;height:100%;z-index:2;pointer-events:none}
#labelContainer{position:absolute;top:0;left:0;width:100%;height:100%;z-index:3;pointer-events:none}

/* ── Loading Screen ── */
#loadingScreen{position:fixed;inset:0;z-index:1000;background:var(--bg);display:flex;flex-direction:column;align-items:center;justify-content:center;gap:18px;transition:opacity 0.6s ease}
#loadingScreen.hidden{opacity:0;pointer-events:none}
.loader-logo{font-size:36px;font-weight:800;background:var(--gradient);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;letter-spacing:-1px}
.loader-sub{color:var(--text-dim);font-size:12px;letter-spacing:2px;text-transform:uppercase}
.loader-bar-track{width:240px;height:3px;background:rgba(255,255,255,0.05);border-radius:3px;overflow:hidden}
.loader-bar-fill{height:100%;width:0%;background:var(--gradient);border-radius:3px;transition:width 0.4s ease}
.loader-status{color:var(--text-mid);font-size:11px;min-height:16px}

/* ── Header ── */
#header{position:absolute;top:0;left:0;right:0;z-index:10;display:flex;align-items:center;justify-content:space-between;padding:10px 16px;background:linear-gradient(180deg,rgba(10,11,8,0.94) 0%,rgba(10,11,8,0.5) 70%,transparent 100%)}
.logo{font-size:19px;font-weight:700;background:var(--gradient);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;letter-spacing:-0.5px}
.logo span{font-weight:400;opacity:0.6}
.header-actions{display:flex;gap:5px;align-items:center}
.btn{display:inline-flex;align-items:center;gap:4px;padding:6px 12px;border:1px solid var(--glass-border);border-radius:var(--radius-sm);background:var(--glass);backdrop-filter:var(--blur);color:var(--text);font-family:var(--font);font-size:11px;font-weight:500;cursor:pointer;transition:var(--transition);white-space:nowrap;pointer-events:all}
.btn:hover{background:var(--glass-hover);border-color:rgba(140,160,80,0.35)}
.btn.active{background:rgba(139,163,57,0.22);border-color:rgba(139,163,57,0.45);color:var(--olive-bright)}
#langSelector{padding:6px 10px;border:1px solid var(--glass-border);border-radius:var(--radius-sm);background:var(--glass);backdrop-filter:var(--blur);color:var(--text);font-family:var(--font);font-size:11px;font-weight:500;cursor:pointer;outline:none;appearance:none;-webkit-appearance:none;pointer-events:all;min-width:100px}
#langSelector option{background:var(--bg);color:var(--text)}

/* ── Detected Objects Bar (bottom panel) ── */
#detectedBar{flex-shrink:0;z-index:10;background:var(--bg2);border-top:1px solid rgba(140,160,80,0.10);padding:8px 14px;min-height:58px;display:flex;align-items:center;gap:6px;overflow-x:auto;-webkit-overflow-scrolling:touch;scrollbar-width:none}
#detectedBar::-webkit-scrollbar{display:none}
#detectedBar:empty::after{content:'Point camera at objects to detect…';color:var(--text-dim);font-size:11px;width:100%;text-align:center}
.detected-chip{display:inline-flex;align-items:center;gap:7px;padding:7px 12px;background:rgba(139,163,57,0.06);border:1px solid rgba(139,163,57,0.14);border-radius:var(--radius-sm);cursor:pointer;transition:var(--transition);flex-shrink:0;animation:chipIn 0.3s ease forwards}
.detected-chip:hover{background:rgba(139,163,57,0.16);border-color:rgba(139,163,57,0.3)}
@keyframes chipIn{from{opacity:0;transform:translateY(4px)}to{opacity:1;transform:translateY(0)}}
.chip-emoji{font-size:16px;line-height:1}
.chip-text{display:flex;flex-direction:column;gap:1px}
.chip-foreign{font-size:12px;font-weight:600;color:var(--text);line-height:1.2}
.chip-english{font-size:8.5px;color:var(--text-dim);text-transform:uppercase;letter-spacing:0.4px}
.chip-phonetic{font-family:var(--mono);font-size:8px;color:var(--olive);font-weight:400}
.chip-speak{width:20px;height:20px;border-radius:50%;background:rgba(139,163,57,0.12);border:1px solid rgba(139,163,57,0.18);color:var(--olive);cursor:pointer;font-size:9px;display:flex;align-items:center;justify-content:center;transition:var(--transition);flex-shrink:0}
.chip-speak:hover{background:rgba(139,163,57,0.3);transform:scale(1.1)}

/* ── Stats + Credit Strip ── */
#statsStrip{flex-shrink:0;z-index:10;background:var(--bg);display:flex;align-items:center;justify-content:center;gap:20px;padding:5px 14px;border-top:1px solid rgba(255,255,255,0.03)}
.stat{display:flex;align-items:center;gap:3px;font-size:10px;color:var(--text-dim)}
.stat-value{font-weight:700;font-size:11px;color:var(--text-mid);font-variant-numeric:tabular-nums}
.stat-label{font-size:8px;text-transform:uppercase;letter-spacing:0.5px}

/* ── NAME BADGE — Eye-catching developer credit ── */
.credit-badge{
  margin-left:auto;display:inline-flex;align-items:center;gap:6px;
  padding:4px 14px 4px 10px;
  background:linear-gradient(135deg,rgba(139,163,57,0.12),rgba(181,212,78,0.06));
  border:1px solid rgba(139,163,57,0.3);
  border-radius:20px;
  position:relative;overflow:hidden;
  cursor:default;transition:all 0.4s ease;
}
.credit-badge::before{
  content:'';position:absolute;inset:-1px;
  border-radius:20px;
  background:linear-gradient(135deg,rgba(139,163,57,0.4),rgba(181,212,78,0.1),rgba(139,163,57,0.4));
  background-size:200% 200%;
  animation:badgeShimmer 3s ease-in-out infinite;
  z-index:0;opacity:0.5;
}
@keyframes badgeShimmer{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}
.credit-badge:hover{
  border-color:rgba(139,163,57,0.55);
  box-shadow:0 0 20px rgba(139,163,57,0.2),0 0 40px rgba(139,163,57,0.08);
  transform:translateY(-1px);
}
.credit-dot{
  width:6px;height:6px;border-radius:50%;
  background:var(--olive-bright);
  box-shadow:0 0 6px var(--olive),0 0 12px rgba(139,163,57,0.3);
  animation:dotPulse 2s ease-in-out infinite;
  z-index:1;flex-shrink:0;
}
@keyframes dotPulse{
  0%,100%{opacity:0.6;transform:scale(0.85)}
  50%{opacity:1;transform:scale(1.2)}
}
.credit-name{
  font-size:10px;font-weight:600;letter-spacing:0.8px;text-transform:uppercase;
  background:linear-gradient(90deg,var(--olive-bright),#d4e87a,var(--olive-bright));
  background-size:200% auto;
  -webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;
  animation:nameGlow 4s linear infinite;
  z-index:1;white-space:nowrap;
}
@keyframes nameGlow{
  0%{background-position:0% center}
  100%{background-position:200% center}
}

/* ── Floating Detection Labels ── */
.detection-label{position:absolute;pointer-events:all;cursor:pointer;transition:left 0.2s cubic-bezier(0.4,0,0.2,1),top 0.2s cubic-bezier(0.4,0,0.2,1),opacity 0.25s ease;will-change:left,top;transform-origin:top left;z-index:4}
.detection-label.entering{animation:labelIn 0.3s cubic-bezier(0.34,1.56,0.64,1) forwards}
.detection-label.exiting{animation:labelOut 0.3s ease forwards;pointer-events:none}
@keyframes labelIn{from{opacity:0;transform:scale(0.85) translateY(5px)}to{opacity:1;transform:scale(1) translateY(0)}}
@keyframes labelOut{from{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(0.92) translateY(6px)}}
.label-card{background:rgba(12,14,10,0.78);backdrop-filter:blur(22px) saturate(1.2);-webkit-backdrop-filter:blur(22px) saturate(1.2);border:1px solid rgba(139,163,57,0.14);border-radius:10px;padding:9px 12px;min-width:110px;max-width:190px;box-shadow:0 8px 32px rgba(0,0,0,0.5),0 0 0 0.5px rgba(139,163,57,0.05) inset;transition:background 0.2s,border-color 0.2s}
.label-card:hover{background:rgba(12,14,10,0.92);border-color:rgba(139,163,57,0.3)}
.label-foreign{font-size:14px;font-weight:700;color:var(--text);line-height:1.2;margin-bottom:1px}
.label-phonetic{font-family:var(--mono);font-size:9px;color:var(--olive);font-weight:400;margin-bottom:2px;opacity:0.85}
.label-english{font-size:9px;color:var(--text-dim);text-transform:uppercase;letter-spacing:0.6px;font-weight:500;display:flex;align-items:center;gap:3px}
.label-speak{display:inline-flex;align-items:center;justify-content:center;width:18px;height:18px;border-radius:50%;background:rgba(139,163,57,0.10);border:1px solid rgba(139,163,57,0.16);color:var(--olive);cursor:pointer;font-size:9px;transition:var(--transition);flex-shrink:0;margin-left:auto}
.label-speak:hover{background:rgba(139,163,57,0.28);transform:scale(1.1)}

/* ── Side Panel ── */
#sidePanel{position:absolute;top:0;right:0;bottom:0;width:300px;z-index:20;background:rgba(10,11,8,0.96);backdrop-filter:blur(28px);border-left:1px solid var(--glass-border);transform:translateX(100%);transition:transform 0.4s cubic-bezier(0.4,0,0.2,1);display:flex;flex-direction:column;overflow:hidden}
#sidePanel.open{transform:translateX(0)}
.panel-header{display:flex;align-items:center;justify-content:space-between;padding:14px;border-bottom:1px solid var(--glass-border)}
.panel-title{font-size:14px;font-weight:700;background:var(--gradient);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}
.panel-close{width:26px;height:26px;border-radius:50%;border:1px solid var(--glass-border);background:var(--glass);color:var(--text);cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:13px;transition:var(--transition)}
.panel-close:hover{background:rgba(255,80,80,0.12);border-color:rgba(255,80,80,0.2)}
.panel-body{flex:1;overflow-y:auto;padding:10px 14px}
.panel-body::-webkit-scrollbar{width:3px}
.panel-body::-webkit-scrollbar-thumb{background:var(--glass-border);border-radius:3px}
.vocab-item{display:flex;align-items:center;gap:8px;padding:8px;border-radius:var(--radius-sm);background:var(--glass);border:1px solid transparent;margin-bottom:5px;transition:var(--transition);cursor:pointer}
.vocab-item:hover{border-color:var(--glass-border);background:var(--glass-hover)}
.vocab-icon{width:28px;height:28px;border-radius:6px;background:var(--gradient2);display:flex;align-items:center;justify-content:center;font-size:12px;flex-shrink:0}
.vocab-info{flex:1;min-width:0}
.vocab-foreign{font-size:12px;font-weight:600;color:var(--text)}
.vocab-english{font-size:9px;color:var(--text-dim);text-transform:uppercase;letter-spacing:0.4px}
.vocab-empty{text-align:center;padding:28px 14px;color:var(--text-dim);font-size:11px;line-height:1.6}
.setting-group{margin-bottom:14px}
.setting-label{font-size:10px;font-weight:600;color:var(--text-mid);text-transform:uppercase;letter-spacing:0.8px;margin-bottom:5px}
.setting-row{display:flex;align-items:center;justify-content:space-between;padding:5px 0}
.setting-value{font-family:var(--mono);font-size:11px;color:var(--olive);font-weight:500}
input[type=range]{-webkit-appearance:none;appearance:none;width:100%;height:3px;border-radius:3px;background:rgba(255,255,255,0.05);outline:none;margin-top:5px}
input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:14px;height:14px;border-radius:50%;background:var(--gradient);cursor:pointer;box-shadow:0 2px 8px var(--olive-glow)}

/* Quiz */
.quiz-label .label-foreign{filter:blur(8px);transition:filter 0.3s ease;user-select:none}
.quiz-label.revealed .label-foreign{filter:blur(0)}

/* Toast */
.toast{position:fixed;bottom:130px;left:50%;transform:translateX(-50%) translateY(14px);padding:9px 18px;border-radius:var(--radius-sm);background:var(--surface);backdrop-filter:var(--blur);border:1px solid var(--glass-border);color:var(--text);font-size:11px;font-weight:500;z-index:100;opacity:0;transition:all 0.35s cubic-bezier(0.4,0,0.2,1);pointer-events:none;white-space:nowrap}
.toast.show{opacity:1;transform:translateX(-50%) translateY(0)}

/* No Camera */
#noCameraMsg{position:fixed;inset:0;z-index:999;background:var(--bg);display:none;flex-direction:column;align-items:center;justify-content:center;gap:12px;text-align:center;padding:28px}
#noCameraMsg h2{font-size:20px;font-weight:700;color:var(--olive-bright)}
#noCameraMsg p{color:var(--text-dim);font-size:12px;max-width:340px;line-height:1.5}

/* ── Responsive ── */
@media(max-width:768px){
  #header{padding:7px 10px}
  .logo{font-size:15px}
  .header-actions{gap:3px}
  #langSelector{min-width:75px;font-size:10px;padding:5px 7px}
  .btn{padding:5px 8px;font-size:9px;gap:2px}
  #detectedBar{padding:6px 8px;min-height:48px;gap:4px}
  .detected-chip{padding:5px 8px;gap:5px}
  .chip-emoji{font-size:14px}
  .chip-foreign{font-size:10px}
  .chip-english{font-size:7px}
  .chip-phonetic{font-size:7px}
  .chip-speak{width:16px;height:16px;font-size:8px}
  #statsStrip{gap:10px;padding:4px 8px}
  .stat-value{font-size:10px}
  .stat-label{font-size:7px}
  #sidePanel{width:100%}
  .label-card{padding:7px 9px;min-width:90px;max-width:150px;border-radius:8px}
  .label-foreign{font-size:12px}
  .label-phonetic{font-size:8px}
  .label-english{font-size:7.5px}
  .label-speak{width:16px;height:16px;font-size:8px}
  .credit-badge{padding:3px 10px 3px 8px;gap:4px}
  .credit-name{font-size:8px;letter-spacing:0.5px}
  .credit-dot{width:5px;height:5px}
}
@media(max-width:480px){
  #header{padding:5px 6px}
  .logo{font-size:13px}
  .btn{padding:4px 6px;font-size:8px}
  #langSelector{min-width:60px;font-size:9px;padding:4px 5px}
  #detectedBar{min-height:42px;padding:5px 6px}
  .detected-chip{padding:4px 6px}
  .chip-foreign{font-size:9px}
  #statsStrip{gap:6px;padding:3px 6px;flex-wrap:wrap}
  .label-card{padding:5px 7px;min-width:75px;max-width:120px}
  .label-foreign{font-size:10px}
  .credit-badge{padding:2px 8px 2px 6px}
  .credit-name{font-size:7px}
}
@media(max-width:360px){
  .header-actions{flex-wrap:wrap;justify-content:flex-end}
  .label-card{max-width:100px}
}
